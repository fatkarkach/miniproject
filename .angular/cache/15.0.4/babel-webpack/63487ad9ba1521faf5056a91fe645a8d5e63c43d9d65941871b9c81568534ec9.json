{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared.service\";\nimport * as i2 from \"@angular/forms\";\nexport class AjoutComponent {\n  constructor(_shared) {\n    this._shared = _shared;\n    this.hero = {\n      name: '',\n      power: 0\n    };\n  }\n  selectimage(e) {\n    this.image = e.target.files[0];\n    console.log(this.image);\n  }\n  ajouter() {\n    let formdata = new FormData();\n    formdata.append('name', this.hero.name);\n    formdata.append('power', this.hero.power.toString());\n    formdata.append('image', this.image);\n    this._shared.createnewHero(formdata).subscribe(res => {\n      this.hero = {\n        name: '',\n        power: 0\n      };\n      console.log(res);\n    }, err => {\n      console.log(err);\n    });\n    /*    this._shared.heros.push(this.hero)\r\n        this.hero={\r\n          name:'',\r\n          power:0,\r\n          imageurl:'',\r\n        }\r\n        console.log(this.hero)*/\n  }\n}\n\nAjoutComponent.ɵfac = function AjoutComponent_Factory(t) {\n  return new (t || AjoutComponent)(i0.ɵɵdirectiveInject(i1.SharedService));\n};\nAjoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AjoutComponent,\n  selectors: [[\"app-ajout\"]],\n  decls: 10,\n  vars: 2,\n  consts: [[1, \"row\", \"mt-5\"], [1, \"col-3\"], [\"type\", \"text\", \"placeholder\", \"name\", 1, \"form-control\", \"m-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"power\", 1, \"form-control\", \"m-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", \"placeholder\", \"imageurl\", 1, \"form-control\", \"m-1\", 3, \"change\"], [\"type\", \"button\", 1, \"btn\", \"form-control\", \"m-1\", \"text-light\", \"bg-black\", 3, \"click\"]],\n  template: function AjoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function AjoutComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.hero.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function AjoutComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.hero.power = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"input\", 4);\n      i0.ɵɵlistener(\"change\", function AjoutComponent_Template_input_change_6_listener($event) {\n        return ctx.selectimage($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 1)(8, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function AjoutComponent_Template_button_click_8_listener() {\n        return ctx.ajouter();\n      });\n      i0.ɵɵtext(9, \" create\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.hero.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.hero.power);\n    }\n  },\n  dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;AAQA,OAAM,MAAOA,cAAc;EAqCzBC,YAAoBC,OAAqB;IAArB,YAAO,GAAPA,OAAO;IA9B3B,SAAI,GAAC;MACHC,IAAI,EAAC,EAAE;MACPC,KAAK,EAAC;KACP;EA4BD;EApCAC,WAAW,CAACC,CAAK;IACf,IAAI,CAACC,KAAK,GAACD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC5BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,KAAK,CAAC;EACzB;EAMAK,OAAO;IACL,IAAIC,QAAQ,GAAC,IAAIC,QAAQ,EAAE;IAC3BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAC,IAAI,CAACC,IAAI,CAACb,IAAI,CAAC;IACtCU,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAC,IAAI,CAACC,IAAI,CAACZ,KAAK,CAACa,QAAQ,EAAE,CAAC;IACnDJ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAC,IAAI,CAACR,KAAK,CAAC;IACnC,IAAI,CAACL,OAAO,CAACgB,aAAa,CAACL,QAAQ,CAAC,CACjCM,SAAS,CACRC,GAAG,IAAE;MACH,IAAI,CAACJ,IAAI,GAAC;QACRb,IAAI,EAAC,EAAE;QACPC,KAAK,EAAC;OACP;MACDM,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;IAClB,CAAC,EACDC,GAAG,IAAE;MACHX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC;IAClB,CAAC,CACF;IACP;;;;;;;EAOE;;;AApCWrB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCR3BC,8BAAsB;MAEXA;QAAA;MAAA,EAAuB;MAA9BA,iBAAuF;MAEzFA,8BAAmB;MACVA;QAAA;MAAA,EAAwB;MAA/BA,iBAAyF;MAE3FA,8BAAmB;MACVA;QAAA,OAAUC,uBAAmB;MAAA,EAAC;MAArCD,iBAAkG;MAEpGA,8BAAmB;MACTA;QAAA,OAASC,aAAS;MAAA,EAAC;MAAiED,uBAAM;MAAAA,iBAAS;;;MATpGA,eAAuB;MAAvBA,uCAAuB;MAGvBA,eAAwB;MAAxBA,wCAAwB","names":["AjoutComponent","constructor","_shared","name","power","selectimage","e","image","target","files","console","log","ajouter","formdata","FormData","append","hero","toString","createnewHero","subscribe","res","err","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\yc\\Desktop\\MiniProjetANgular\\src\\app\\ajout\\ajout.component.ts","C:\\Users\\yc\\Desktop\\MiniProjetANgular\\src\\app\\ajout\\ajout.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {SharedService} from \"../shared.service\";\n\n@Component({\n  selector: 'app-ajout',\n  templateUrl: './ajout.component.html',\n  styleUrls: ['./ajout.component.css']\n})\nexport class AjoutComponent {\n  image:any;\n  selectimage(e:any){\n    this.image=e.target.files[0];\n    console.log(this.image)\n  }\n\n  hero={\n    name:'',\n    power:0,\n  }\n  ajouter(){\n    let formdata=new FormData();\n    formdata.append('name',this.hero.name);\n    formdata.append('power',this.hero.power.toString());\n    formdata.append('image',this.image);\n    this._shared.createnewHero(formdata)\n      .subscribe(\n        res=>{\n          this.hero={\n            name:'',\n            power:0,\n          }\n          console.log(res);\n        },\n        err=>{\n          console.log(err);\n        }\n      );\n/*    this._shared.heros.push(this.hero)\n    this.hero={\n      name:'',\n      power:0,\n      imageurl:'',\n    }\n    console.log(this.hero)*/\n  }\n  constructor(public  _shared:SharedService) {\n  }\n\n}\n","<div class=\"row mt-5\">\n  <div class=\"col-3\">\n    <input [(ngModel)]=\"hero.name\" type=\"text\" class=\"form-control m-1\" placeholder=\"name\">\n  </div>\n  <div class=\"col-3\">\n    <input [(ngModel)]=\"hero.power\" type=\"text\" class=\"form-control m-1\" placeholder=\"power\">\n  </div>\n  <div class=\"col-3\">\n    <input (change)=\"selectimage($event)\" type=\"file\" class=\"form-control m-1\" placeholder=\"imageurl\">\n  </div>\n  <div class=\"col-3\">\n    <button (click)=\"ajouter()\" type=\"button\" class=\"btn form-control m-1 text-light bg-black\"> create</button>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}